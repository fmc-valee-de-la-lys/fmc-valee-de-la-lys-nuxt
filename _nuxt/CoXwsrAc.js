import{_ as g}from"./CihVO0cw.js";import{q as h,d as w,x as b,m as f,L as C,K as v,c as x,J as L,I as a}from"./BQ_Q3R_Z.js";import{u as q}from"./BFqicffZ.js";import"./BJ3CdmTK.js";import"./BtNnu1wb.js";function A(){return q("board",()=>{const e=h("/dir");return e.where({_extension:"md"}),e.only(["featured","card_image","description","title","_path"]),e.sort({featured:1}).find()})}const J=w({__name:"DirectoryGrid",async setup(l){let e,c;const u=b().directory.grid,m=f("search"),d=f("tags"),{data:p}=([e,c]=C(()=>A()),e=await e,c(),e),y=v(()=>{var n;let t=p.value;return t?(m.value&&(t=t==null?void 0:t.filter(o=>{var s,r;return(((s=o.title)==null?void 0:s.toLowerCase())+((r=o.description)==null?void 0:r.toLowerCase())).includes(m.value.toLowerCase())})),((n=d.value)==null?void 0:n.length)>0&&(t=t==null?void 0:t.filter(o=>{var s;return(s=d.value)==null?void 0:s.every(r=>{var i;return(i=o.tags)==null?void 0:i.includes(r)})})),t):[]});return(t,n)=>{var s,r,i,_;const o=g;return x(),L(o,{listings:a(y)??[],"show-submit":(r=(s=a(u))==null?void 0:s.submit)==null?void 0:r.show,"submit-first":(_=(i=a(u))==null?void 0:i.submit)==null?void 0:_.first},null,8,["listings","show-submit","submit-first"])}}});export{J as default};
