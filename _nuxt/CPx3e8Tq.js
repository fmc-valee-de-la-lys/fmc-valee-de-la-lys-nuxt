import{_ as g}from"./BqsthRcI.js";import{q as h,d as w,x as b,m as _,L as C,K as v,c as x,J as L,I as a}from"./NGbWuDik.js";import{u as q}from"./_2wdRuZ1.js";import"./BLy8SMxv.js";import"./CCKPZB6e.js";import"./eBxaGk-U.js";function A(){return q("board",()=>{const e=h("/dir");return e.where({_extension:"md"}),e.only(["featured","card_image","description","title","_path"]),e.sort({featured:1}).find()})}const K=w({__name:"DirectoryGrid",async setup(f){let e,c;const u=b().directory.grid,m=_("search"),d=_("tags"),{data:l}=([e,c]=C(()=>A()),e=await e,c(),e),y=v(()=>{var n;let t=l.value;return t?(m.value&&(t=t==null?void 0:t.filter(o=>{var s,r;return(((s=o.title)==null?void 0:s.toLowerCase())+((r=o.description)==null?void 0:r.toLowerCase())).includes(m.value.toLowerCase())})),((n=d.value)==null?void 0:n.length)>0&&(t=t==null?void 0:t.filter(o=>{var s;return(s=d.value)==null?void 0:s.every(r=>{var i;return(i=o.tags)==null?void 0:i.includes(r)})})),t):[]});return(t,n)=>{var s,r,i,p;const o=g;return x(),L(o,{listings:a(y)??[],"show-submit":(r=(s=a(u))==null?void 0:s.submit)==null?void 0:r.show,"submit-first":(p=(i=a(u))==null?void 0:i.submit)==null?void 0:p.first},null,8,["listings","show-submit","submit-first"])}}});export{K as default};
